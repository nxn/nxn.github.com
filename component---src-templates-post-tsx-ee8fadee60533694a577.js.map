{"version":3,"sources":["webpack:///./src/components/toc.tsx","webpack:///./src/templates/post.tsx","webpack:///./node_modules/gatsby-plugin-mdx/index.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/gatsby-plugin-mdx/mdx-renderer.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/construct.js"],"names":["ToC","props","items","data","first","highlight","length","url","React","useState","current","setCurrent","useLayoutEffect","margin","parseFloat","window","getComputedStyle","document","documentElement","fontSize","targets","querySelectorAll","selectURIs","result","item","push","join","end","pending","updateCurrent","scrollOffset","scrollY","index","offsetTop","id","handleScroll","requestAnimationFrame","addEventListener","removeEventListener","className","List","renderItem","ToCLink","to","undefined","title","ListUnstyled","map","key","fontWeight","color","theme","palette","accents","light","Link","purple","display","lineHeight","boxSizing","textDecoration","padding","actions","primary","main","PageToC","SideToC","position","top","spacing","margins","vertical","overflow","paddingLeft","borderLeft","green","PostPage","post","mdx","meta","site","siteMetadata","toc","frontmatter","width","style","split","find","v","Helmet","fields","summaryText","name","content","Content","Post","date","tableOfContents","body","contentWidth","parseInt","typography","lineLength","long","short","regular","widthToRem","additional","standard","minHorizontal","sidepanelMinWidth","breakPoints","gridTemplateColumns","alignItems","justifyContent","gap","horizontal","maxWidth","minWidth","textAlign","MDXRenderer","require","module","exports","TypeError","iter","Symbol","iterator","Object","Array","from","arrayLikeToArray","arr","isArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_setPrototypeOf","o","p","setPrototypeOf","__proto__","len","i","arr2","useMDXScope","scope","children","mdxScope","End","fullScope","keys","values","fn","minLen","n","prototype","toString","call","slice","constructor","test","Reflect","construct","sham","Proxy","Date","e","obj","value","defineProperty","enumerable","configurable","writable","isNativeReflectConstruct","_construct","Parent","args","Class","a","apply","instance","Function","bind","arguments"],"mappings":"6kCA2BO,SAASA,EAAIC,GAChB,IAAMC,EAAQD,EAAME,MAAQF,EAAME,KAAKD,MAEnCE,EAAQ,KACRH,EAAMI,WAAaH,GAASA,EAAMI,OAAS,IAC3CF,EAAQF,EAAM,GAAGK,KALY,MAQHC,IAAMC,SAASL,GAAtCM,EAR0B,KAQjBC,EARiB,KAUjCH,IAAMI,iBAAgB,WAClB,GAAKX,EAAMI,WAAcH,GAAUA,EAAMI,OAAzC,CASA,IAAMO,EAAS,EAAIC,WAAWC,OAAOC,iBAAiBD,OAAOE,SAASC,iBAAiBC,UACjFC,EAAUL,OAAOE,SAASI,iBA/BrB,SAAbC,EAAcpB,EAAeqB,QAA0B,IAA1BA,MAAmB,IAClD,cAAiBrB,KAAjB,aAAwB,KAAfsB,EAAe,QACpBD,EAAOE,KAAKD,EAAKjB,KACbiB,EAAKtB,OACLoB,EAAWE,EAAKtB,MAAOqB,GAG/B,OAAOA,EAwB2DD,CAAWpB,GAAOwB,KAAK,OAE/EC,EAAMP,EAAQd,OAAS,EACzBsB,GAAU,EAERC,EAAgB,WAIlB,IAHA,IAAMC,EAAef,OAAOgB,QAAUlB,EAElCmB,EAAQ,EACLA,EAAQL,GAAOG,EAAeV,EAAQY,EAAQ,GAAGC,WAAWD,IAEnErB,EAAW,IAAKS,EAAQY,GAAOE,IAC/BN,GAAU,GAGRO,EAAe,WACZP,IACDb,OAAOqB,sBAAsBP,GAC7BD,GAAU,IAKlB,OADAX,SAASoB,iBAAiB,SAAUF,GAC7B,WACHlB,SAASqB,oBAAoB,SAAUH,OAG5C,IAUH,OACI,mBAAKD,GAAKjC,EAAMiC,GAAKK,UAAYtC,EAAMsC,WACjCrC,GAASA,EAAMI,OAAS,GAAK,YAACkC,EAAD,CAAMtC,MAAQA,EAAQuC,WAV1C,SAACjB,GAChB,OACI,YAACkB,EAAD,CAASC,GAAKnB,EAAKjB,IAAMgC,UAAY7B,IAAYc,EAAKjB,IAAM,eAAYqC,GAClEpB,EAAKqB,WAkBvB,SAASC,EAAa7C,GAClB,OACI,kBAAIsC,UAAYtC,EAAMsC,WACpBtC,EAAMC,MAAM6C,KAAI,SAACvB,EAAMQ,GAAP,OACd,kBAAIgB,IAAMhB,GACJ/B,EAAMwC,WAAWjB,GACjBA,EAAKtB,OAASsB,EAAKtB,MAAMI,OAAS,GAAK,YAACwC,EAAD,CAAc5C,MAAQsB,EAAKtB,MAAQuC,WAAaxC,EAAMwC,kBAO/G,IAAMD,EAAO,YAAOM,EAAP,mCAAqB,kBAAgB,CAC9C3B,SAAU,SAEV,aAAc,CACV8B,WAAY,OACZC,MAL0B,EAAGC,MAKhBC,QAAQC,QAAQC,OAGjC,OAAQ,CACJzC,OAAQ,eATH,IAaP6B,EAAU,YAAOa,IAAP,sCAAa,gBAAEJ,EAAF,EAAEA,MAAF,MAAc,CACvCD,MAAgBC,EAAMC,QAAQC,QAAQG,OACtCC,QAAgB,eAChBC,WAAgB,SAChBC,UAAgB,aAChBC,eAAgB,OAChBC,QAAgB,eAEhB,UAAW,CACPX,MAAOC,EAAMC,QAAQU,QAAQC,QAAQC,SAT7B,IAaHC,EAAU,YAAOjE,EAAP,gHAOVkE,EAAU,YAAOlE,EAAP,sCAAY,gBAAEmD,EAAF,EAAEA,MAAF,MAAc,CAC7CgB,SAAoB,SACpBC,IAAoBjB,EAAMkB,QAAQC,QAAQC,SAE1CC,SAAoB,SAEpB,UAAW,CACPC,YAAa,aAGjB,MAAO,CACHC,WAAY,8BACZD,YAAa,UAGjB,cAAe,CACXvB,MAAOC,EAAMC,QAAQC,QAAQsB,MAC7BD,WAAY,mBAAoBvB,EAAMC,QAAQC,QAAQsB,UAjBvC,I,YC3GhB,SAASC,EAAS3E,GACrB,IAAM4E,EAAO5E,EAAME,KAAK2E,IAClBC,EAAO9E,EAAME,KAAK6E,KAAKC,aACvBC,EAAOL,EAAKM,YAAYD,IAGxBE,GADUP,EAAKM,YAAYE,OAAS,IAAIC,MAAM,KAC/BC,MAAK,SAAAC,GAAC,MAAU,SAANA,GAAsB,WAANA,MAAmB,UAClE,OACI,YAAC,IAAD,KACI,YAACC,EAAA,EAAD,KACMZ,EAAKM,YAAYtC,OACf,yBAASgC,EAAKM,YAAYtC,MAA1B,MAAsCkC,EAAKlC,OAE7CgC,EAAKa,OAAOC,aACV,oBAAMC,KAAK,cAAcC,QAAUhB,EAAKa,OAAOC,eAGvD,YAACG,EAAD,CAASZ,MAAQA,EAAME,MAAQA,GAC3B,YAACW,EAAD,CAAMxD,UAAYsC,EAAKM,YAAYE,OAC/B,YAAC,cAAD,CACIxC,MAAYgC,EAAKM,YAAYtC,MAC7BmD,KAAYnB,EAAKM,YAAYa,KAC7Bd,IAAYA,GAAO,YAACjB,EAAD,CAAS/B,GAAG,WAAW/B,KAAO0E,EAAKoB,mBACpDpB,EAAKqB,OAIbhB,GAAO,YAAChB,EAAD,CAAShC,GAAG,WAAW/B,KAAO0E,EAAKoB,gBAAkB5F,WAAS,MAWvF,IAQayF,EAAU,wDAAyB,YAAyB,MAAvB3C,EAAuB,EAAvBA,MAAO+B,EAAgB,EAAhBA,IAAKE,EAAW,EAAXA,MACpDe,EAAgBC,SATP,SAAChB,EAAejC,GAC/B,OAAQiC,GACJ,IAAK,OAAW,OAAOjC,EAAMkD,WAAWC,WAAWC,KACnD,IAAK,SAAW,OAAOpD,EAAMkD,WAAWC,WAAWE,MACnD,QAAgB,OAAOrD,EAAMkD,WAAWC,WAAWG,SAKxBC,CAAWtB,EAAOjC,IAAU,MAyBrDwD,EAAaxD,EAAMkB,QAAQC,QAAQsC,SAASD,YAAc,KAG1DE,EAAgB1D,EAAMkB,QAAQC,QAAQsC,SAASC,eAAiB,EAQhEC,EAAoB,KAAO,IAAmB,IAAbH,IAAqBR,EAnCtC,GA+BsD,GAA3DhD,EAAM4D,YAAYH,SAAWD,EAAaE,IAM3D,UACIpD,QAAwB,OACxBuD,oBAAwB,OACxBC,WAAwB,aACxBC,eAAwB,SACxBC,IAAwBhE,EAAMkB,QAAQC,QAAQ8C,WAE9C,cAAe,CACX3D,QAASyB,EAAM,QAAU,QAE7B,cAAe,CACXzB,QAAS,UAXjB,sBAgB4BqD,EAhB5B,QAgBuD5B,GAAO,CACtD8B,oBAAqB,mBACrB,cAAe,CAAEvD,QAAS,QAC1B,cAAe,CAAEA,QAAS,YAnBlC,IAvCmB,IA+DjBsC,EAAO,qDAAW,gBAAE5C,EAAF,EAAEA,MAAF,MAAc,CAClCqB,SAAU,SACV6C,SAAUlE,EAAMkD,WAAWC,WAAWG,QACtCa,SAAU,QAEV,mBAAoB,CAChB,OAAQ,CAAEC,UAAW,WAGzB,WAAY,CAAEF,SAAUlE,EAAMkD,WAAWC,WAAWE,OACpD,SAAY,CAAEa,SAAUlE,EAAMkD,WAAWC,WAAWC,SAV3C,IAaE3B,a,uBCzJf,IAAM4C,EAAcC,EAApB,QAEAC,UAAiB,CACfF,YAAaA,I,mBCLfE,EAAOC,QAJP,WACE,MAAM,IAAIC,UAAU,0I,mBCGtBF,EAAOC,QAJP,SAA0BE,GACxB,GAAsB,oBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOI,MAAMC,KAAKL,K,qBCD1F,IAAIM,EAAmB,EAAQ,QAM/BT,EAAOC,QAJP,SAA4BS,GAC1B,GAAIH,MAAMI,QAAQD,GAAM,OAAOD,EAAiBC,K,qBCHlD,IAAIE,EAAoB,EAAQ,QAE5BC,EAAkB,EAAQ,QAE1BC,EAA6B,EAAQ,QAErCC,EAAoB,EAAQ,QAMhCf,EAAOC,QAJP,SAA4BS,GAC1B,OAAOE,EAAkBF,IAAQG,EAAgBH,IAAQI,EAA2BJ,IAAQK,M,mBCT9F,SAASC,EAAgBC,EAAGC,GAM1B,OALAlB,EAAOC,QAAUe,EAAkBV,OAAOa,gBAAkB,SAAyBF,EAAGC,GAEtF,OADAD,EAAEG,UAAYF,EACPD,GAGFD,EAAgBC,EAAGC,GAG5BlB,EAAOC,QAAUe,G,mBCCjBhB,EAAOC,QAVP,SAA2BS,EAAKW,IACnB,MAAPA,GAAeA,EAAMX,EAAI9H,UAAQyI,EAAMX,EAAI9H,QAE/C,IAAK,IAAI0I,EAAI,EAAGC,EAAO,IAAIhB,MAAMc,GAAMC,EAAID,EAAKC,IAC9CC,EAAKD,GAAKZ,EAAIY,GAGhB,OAAOC,I,woBCPT,IAAMzI,EAAQiH,EAAd,QACQ3C,EAAQ2C,EAAQ,QAAhB3C,IACAoE,EAAgBzB,EAAQ,QAAxByB,YAERxB,UAAiB,SAAqB,GAIlC,IAHFyB,EAGC,EAHDA,MACAC,EAEC,EAFDA,SACGnJ,EACF,0BACKoJ,EAAWH,EADhB,GAIKI,EAAM9I,EAAA,SAAc,WACxB,MACE,OAAO,KAGT,IAAM+I,EAAS,GAGb/I,MAHa,EAIbsE,OAJF,GAQM0E,EAAOxB,YAAb,GACMyB,EAASD,EAAA,KAAS,SAAAxG,GAAG,OAAIuG,EAAJ,MAG3B,OAFQ,mCAAR,KAEOG,2BAAP,OACC,CAACN,EAlBJ,IAoBA,OAAO5I,uBAAP,M,qBChCF,IAAI2H,EAAmB,EAAQ,QAW/BT,EAAOC,QATP,SAAqCgB,EAAGgB,GACtC,GAAKhB,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAOR,EAAiBQ,EAAGgB,GACtD,IAAIC,EAAI5B,OAAO6B,UAAUC,SAASC,KAAKpB,GAAGqB,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBjB,EAAEsB,cAAaL,EAAIjB,EAAEsB,YAAYrE,MAC7C,QAANgE,GAAqB,QAANA,EAAoB3B,MAAMC,KAAKS,GACxC,cAANiB,GAAqB,2CAA2CM,KAAKN,GAAWzB,EAAiBQ,EAAGgB,QAAxG,K,mBCKFjC,EAAOC,QAbP,WACE,GAAuB,oBAAZwC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,mBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKV,UAAUC,SAASC,KAAKI,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOC,GACP,OAAO,K,mBCMX9C,EAAOC,QAfP,SAAyB8C,EAAKzH,EAAK0H,GAYjC,OAXI1H,KAAOyH,EACTzC,OAAO2C,eAAeF,EAAKzH,EAAK,CAC9B0H,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZL,EAAIzH,GAAO0H,EAGND,I,qBCZT,IAAI5B,EAAiB,EAAQ,QAEzBkC,EAA2B,EAAQ,QAEvC,SAASC,EAAWC,EAAQC,EAAMC,GAchC,OAbIJ,IACFrD,EAAOC,QAAUqD,EAAab,QAAQC,UAEtC1C,EAAOC,QAAUqD,EAAa,SAAoBC,EAAQC,EAAMC,GAC9D,IAAIC,EAAI,CAAC,MACTA,EAAE3J,KAAK4J,MAAMD,EAAGF,GAChB,IACII,EAAW,IADGC,SAASC,KAAKH,MAAMJ,EAAQG,IAG9C,OADID,GAAOtC,EAAeyC,EAAUH,EAAMtB,WACnCyB,GAIJN,EAAWK,MAAM,KAAMI,WAGhC/D,EAAOC,QAAUqD","file":"component---src-templates-post-tsx-ee8fadee60533694a577.js","sourcesContent":["import React    from \"react\";\nimport Link     from \"./controls/link\";\nimport styled   from \"@emotion/styled\";\n\ntype Item = {\n    title:  string,\n    url:    string,\n    items?:  Item[]\n};\n\ntype ToCProps = {\n    id?:                string,\n    className?:         string,\n    highlight?:         boolean,\n    data?: { items?:    Item[] }\n}\n\nconst selectURIs = (items: Item[], result: string[] = []) => {\n    for (let item of items) {\n        result.push(item.url);\n        if (item.items) {\n            selectURIs(item.items, result);\n        }\n    }\n    return result;\n}\n\nexport function ToC(props: ToCProps) {\n    const items = props.data && props.data.items;\n\n    let first = null;\n    if (props.highlight && items && items.length > 0) {\n        first = items[0].url;\n    }\n\n    const [current, setCurrent] = React.useState(first);\n\n    React.useLayoutEffect(() => {\n        if (!props.highlight || !items || !items.length) { return; }\n\n        // Client font size based target margin; If scrolled within 3rem above the target's position, the ToC will mark \n        // the target as being the current one.\n        // \n        // TODO: This should probably be determined via 'theme' or the margin/padding of the target in question.\n        // Alternatively, the ideal behavior would be to match `gatsby-remark-autolink-headers`'s offsetY setting, as\n        // then the ToC and anchor links would be in exact sync. Unfortunately, this setting doesn't appear to work at\n        // the time of writing.\n        const margin = 3 * parseFloat(window.getComputedStyle(window.document.documentElement).fontSize);\n        const targets = window.document.querySelectorAll<HTMLElement>(selectURIs(items).join(', '));\n\n        const end = targets.length - 1;\n        let pending = false;\n        \n        const updateCurrent = () => {\n            const scrollOffset = window.scrollY + margin;\n\n            let index = 0;\n            while (index < end && scrollOffset > targets[index + 1].offsetTop) index++;\n\n            setCurrent(`#${ targets[index].id }`);\n            pending = false;\n        }\n\n        const handleScroll = () => {\n            if (!pending) {\n                window.requestAnimationFrame(updateCurrent);\n                pending = true;\n            }\n        }\n\n        document.addEventListener('scroll', handleScroll);\n        return () => {\n            document.removeEventListener('scroll', handleScroll);\n        }\n    // TODO: Decide if optimizing via dependency list is necessary\n    }, []);\n\n    const renderItem = (item: Item) => {\n        return (\n            <ToCLink to={ item.url } className={ current === item.url ? 'current' : undefined }>\n                { item.title }\n            </ToCLink>\n        )\n    }\n\n    return (\n        <div id={ props.id } className={ props.className }>\n            { items && items.length > 0 && <List items={ items } renderItem={ renderItem } /> }\n        </div>\n    );\n}\n\ntype ListProps = {\n    items: Item[],\n    renderItem: (item: Item) => JSX.Element,\n    className?: string\n}\n\nfunction ListUnstyled(props: ListProps) {\n    return (\n        <ul className={ props.className }>\n        { props.items.map((item, index) => (\n            <li key={ index }>\n                { props.renderItem(item) }\n                { item.items && item.items.length > 0 && <ListUnstyled items={ item.items } renderItem={ props.renderItem } /> }\n            </li>\n        ))}\n        </ul>\n    )\n}\n\nconst List = styled(ListUnstyled)(({ theme }) => ({\n    fontSize: '0.9rem',\n\n    '& > li > a': {\n        fontWeight: 'bold',\n        color: theme.palette.accents.light,\n    },\n\n    '& li': {\n        margin: '0.5rem 0',\n    }\n}));\n\nconst ToCLink = styled(Link)(({theme}) => ({\n    color:          theme.palette.accents.purple,\n    display:        'inline-block',\n    lineHeight:     '1.5rem',\n    boxSizing:      'border-box',\n    textDecoration: 'none',\n    padding:        '0.25rem 0rem',\n\n    '&:hover': {\n        color: theme.palette.actions.primary.main,\n    },\n}));\n\nexport const PageToC = styled(ToC)({\n    marginTop: '2.5rem',\n    '& li li': {\n        paddingLeft: '1.5rem',\n    }\n});\n\nexport const SideToC = styled(ToC)(({theme}) => ({\n    position:           'sticky',\n    top:                theme.spacing.margins.vertical,\n    //maxWidth:           '16rem',\n    overflow:           'hidden',\n\n    '& li li': {\n        paddingLeft: '1.0625rem',\n    },\n\n    '& a': {\n        borderLeft: `0.0625rem solid transparent`,\n        paddingLeft: '1.0rem'\n    },\n\n    '& a.current': {\n        color: theme.palette.accents.green,\n        borderLeft: `0.0625rem solid ${ theme.palette.accents.green }`\n    }\n}));\n\nexport default ToC;","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Theme } from \"@emotion/react\";\nimport { graphql } from \"gatsby\";\nimport { MDXRenderer } from \"gatsby-plugin-mdx\"\n\nimport Layout from \"../components/layout\";\nimport { PageToC, SideToC } from \"../components/toc\";\nimport { Helmet } from \"react-helmet\";\n\ntype PostData = {\n    site: {\n        siteMetadata: {\n            title: string\n        }\n    }\n    mdx: {\n        id:                 string,\n        body:               string,\n        tableOfContents:    any,\n        frontmatter: {\n            title?: string,\n            style?: string,\n            date?:  string,\n            toc?:   boolean\n        },\n        fields: {\n            summaryText?: string\n        }\n    }\n}\n\ntype PostPageProps = {\n    className?: string,\n    data:       PostData\n}\n\nexport function PostPage(props: PostPageProps) {\n    const post = props.data.mdx;\n    const meta = props.data.site.siteMetadata;\n    const toc  = post.frontmatter.toc;\n\n    const styles = (post.frontmatter.style || \"\").split(' ');\n    const width = styles.find(v => v === 'wide' || v === 'narrow') || 'regular';\n    return (\n        <Layout>\n            <Helmet>\n                { post.frontmatter.title &&\n                    <title>{ post.frontmatter.title } · { meta.title }</title>\n                }\n                { post.fields.summaryText &&\n                    <meta name=\"description\" content={ post.fields.summaryText } />\n                }\n            </Helmet>\n            <Content toc={ !!toc } width={ width }>\n                <Post className={ post.frontmatter.style }>\n                    <MDXRenderer \n                        title   = { post.frontmatter.title } \n                        date    = { post.frontmatter.date } \n                        toc     = { toc && <PageToC id=\"page-toc\" data={ post.tableOfContents } /> }>\n                        { post.body }\n                    </MDXRenderer>\n                </Post>\n                \n                { toc && <SideToC id=\"side-toc\" data={ post.tableOfContents } highlight /> }\n            </Content>\n        </Layout>\n    );\n}\n\ntype ContentProps = {\n    toc: boolean, \n    width: string,\n}\n\nconst widthToRem = (width: string, theme: Theme) => {\n    switch (width) {\n        case 'wide':    return theme.typography.lineLength.long;\n        case 'narrow':  return theme.typography.lineLength.short;\n        default:        return theme.typography.lineLength.regular;\n    }\n}\n\nexport const Content = styled.div<ContentProps>(({theme, toc, width}) => {\n    const contentWidth  = parseInt(widthToRem(width, theme) || '40');\n    const tocMinWidth   = 16;\n    \n    /*\n        The following hack is necessary due to the following chrome/chromium bug:\n            https://bugs.chromium.org/p/chromium/issues/detail?id=915190\n            https://bugs.chromium.org/p/chromium/issues/detail?id=843584\n\n        In order to determine whether the sidepanel table of contents should be displayed it is necessary to determine\n        if there is enough room for it. The basic formula for doing so looks as follows:\n\n            if (viewportWidth >= contentWidth + tocMinWidth + (3 * contentMargin)): showSideToC()\n\n        The first issue is that the content margin is based on a percentage of the viewport size and is stored as a CSS\n        variable rather than a JS value. CSS variables cannot be used within media query declarations, so the formula\n        for calculating the margin size has to be inlined into the query.\n\n        That alone would still be relatively OK since all the other values can be pre-calculated in JS -- however, due \n        to the linked 3 year old bug in chrome, media queries that use the css `calc()` function along with viewport \n        relative units (vh and vw) produce incorrect outputs.\n\n        For this to have any chance of working in Chrome, the calculation is not allowed to refer to the viewport size \n        via `vh` or `vw`. The following mess gets around this: */\n\n    // Percentage of free space to use as margin (default 7.5%)\n    const additional = theme.spacing.margins.standard.additional || 0.075;\n\n    // Minimum margin size (default 2rem)\n    const minHorizontal = theme.spacing.margins.standard.minHorizontal || 2;\n\n    // Calculates margin portion after breakpoint relative to 7.5% of viewport, since there's three margins (left, gap, \n    // and right) this needs to be multiplied by 3\n    const margins = (theme.breakPoints.standard * additional - minHorizontal) * 3;\n\n    // Converts values and margin portion to be relative to actual viewport width value. `additional` is based on margin\n    // proportion so needs to be multiplied by 3 and converted to percent value.\n    const sidepanelMinWidth = 100 / (100 - additional * 300) * (contentWidth + tocMinWidth - margins);\n\n    return {\n        display:                'grid',\n        gridTemplateColumns:    'auto',\n        alignItems:             'self-start',\n        justifyContent:         'center',\n        gap:                    theme.spacing.margins.horizontal,\n        \n        '& #page-toc': {\n            display: toc ? 'block' : 'none'\n        },\n        '& #side-toc': {\n            display: 'none'\n        },\n\n        // Hides the on-page table of contents and shows the sidepanel version if there is enough space for it. If the\n        // table of contents is turned off off this media query equates to false.\n        [`@media (min-width: ${ sidepanelMinWidth }rem)`]: toc && {\n            gridTemplateColumns: 'max-content auto',\n            '& #page-toc': { display: 'none' },\n            '& #side-toc': { display: 'initial' }\n        }\n    }\n});\n\nconst Post = styled.div(({theme}) => ({\n    overflow: 'hidden',\n    maxWidth: theme.typography.lineLength.regular,\n    minWidth: '18rem',\n\n    '&.centered-title': {\n        '& h1': { textAlign: 'center' }\n    },\n\n    '&.narrow': { maxWidth: theme.typography.lineLength.short },\n    '&.wide':   { maxWidth: theme.typography.lineLength.long }\n}));\n\nexport default PostPage;\n\nexport const query = graphql`\n    query($slug: String!) {\n        site {\n            siteMetadata {\n                title\n            }\n        }\n        mdx(slug: { eq: $slug }) {\n            id\n            body\n            tableOfContents\n            frontmatter {\n                title\n                date\n                style\n                toc\n            }\n            fields {\n                summaryText\n            }\n        }\n    }\n`;","/**\n * Welcome to gatsby-plugin-mdx!\n *\n * Start reading in gatsby-node.js\n */\n\nconst MDXRenderer = require(`./mdx-renderer`)\n\nmodule.exports = {\n  MDXRenderer: MDXRenderer,\n}\n","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","const React = require(`react`)\nconst { mdx } = require(`@mdx-js/react`)\nconst { useMDXScope } = require(`./context`)\n\nmodule.exports = function MDXRenderer({\n  scope,\n  children,\n  ...props\n}) {\n  const mdxScope = useMDXScope(scope)\n\n  // Memoize the compiled component\n  const End = React.useMemo(() => {\n    if (!children) {\n      return null\n    }\n\n    const fullScope = {\n      // React is here just in case the user doesn't pass them in\n      // in a manual usage of the renderer\n      React,\n      mdx,\n      ...mdxScope,\n    }\n\n    const keys = Object.keys(fullScope)\n    const values = keys.map(key => fullScope[key])\n    const fn = new Function(`_fn`, ...keys, `${children}`)\n\n    return fn({}, ...values)\n  }, [children, scope])\n\n  return React.createElement(End, {...props })\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;"],"sourceRoot":""}